import React, { useState } from "react";

const Amenities = () => {
    const [bathrooms, setBathrooms] = useState(0);
    const [balcony, setBalcony] = useState(0);
    const [gym, setGym] = useState(false);
    const [nonVegAllowed, setNonVegAllowed] = useState(false);
    const [gatedSecurity, setGatedSecurity] = useState(false);
    const [moreProperties, setMoreProperties] = useState(false);

    const [formData, setFormData] = useState({
        bathrooms: 0,
        balcony: 0,
        waterSupply: "",
        gym: false,
        nonVegAllowed: false,
        gatedSecurity: false,
        whoWillShow: "",
        propertyCondition: "",
        availableAmenities: "",
        moreProperties: false,
        secondaryNumber: "",
        directions: ""
    });

    const [errors, setErrors] = useState({})

    const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData((prev) => ({
            ...prev,
            [name]: type === "checkbox" ? checked : value
        }));
    };

    const increment = (field) => {
        setFormData((prev) => ({
            ...prev,
            [field]: prev[field] + 1
        }));
    };

    const decrement = (field) => {
        setFormData((prev) => ({
            ...prev,
            [field]: prev[field] > 0 ? prev[field] - 1 : 0
        }));
    };

    const validateForm = () => {
        const newErrors = {}
        if (formData.bathrooms <= 0) newErrors.bathrooms = "Bathrooms must be at lease 1."
        if (formData.waterSupply === "") newErrors.waterSupply = "Water supply selection is required."
        if (formData.gym === null) newErrors.gym = "Please select a option for Gym."
        if (formData.nonVegAllowed === null) newErrors.nonVegAllowed = "Please specify if Non-Veg is allowed."
        if (formData.gatedSecurity === null) newErrors.gatedSecurity = "Please specify if Gated Security is available.";
        if (formData.whoWillShow === "") newErrors.whoWillShow = "Please select who will show the property.";
        if (formData.propertyCondition === "") newErrors.propertyCondition = "Please select the property condition.";
        if (formData.availableAmenities === "") newErrors.availableAmenities = "Please specify available amenities.";
        if (formData.moreProperties === null) newErrors.moreProperties = "Please specify if you have more properties.";
        if (formData.secondaryNumber && !/^[0-9]{10}$/.test(formData.secondaryNumber)) {
            newErrors.secondaryNumber = "Enter a valid 10-digit phone number.";
        }
        if (formData.directions === "") newErrors.directions = "Please enter directions.";

        setErrors(newErrors)
        return Object.keys(newErrors).length === 0

    }


    return (
        <div className="space-y-6">
            <div>
                <h1 className="text-sm font-semibold text-[#009587]">
                    Provide additional details about your property to get maximum visibility
                </h1>
                <div className="border-t border-gray-300 my-4"></div>
            </div>
            <div className="grid grid-cols-3 gap-6">
                {/* Bathroom(s) */}
                <div className="flex flex-col items-center">
                    <label className="block text-gray-700 font-medium mb-2">Bathroom(s)*</label>
                    <div className="flex items-center space-x-2 border border-gray-300 rounded-lg shadow-sm p-2">
                        <button
                            onClick={() => decrement("bathrooms")} className="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 focus:outline-none"
                        >
                            -
                        </button>
                        <input
                            type="text"
                            value={bathrooms}
                            readOnly
                            className="w-12 text-center p-2 border-none focus:outline-none bg-transparent"
                        />
                        <button
                            onClick={() => increment("bathrooms")} className="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 focus:outline-none"
                        >
                            +
                        </button>
                    </div>
                </div>

                {/* Balcony */}
                <div className="flex flex-col items-center">
                    <label className="block text-gray-700 font-medium mb-2">Balcony</label>
                    <div className="flex items-center space-x-2 border border-gray-300 rounded-lg shadow-sm p-2">
                        <button
                            onClick={() => decrement(setBalcony)}
                            className="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 focus:outline-none"
                        >
                            -
                        </button>
                        <input
                            type="text"
                            value={balcony}
                            readOnly
                            className="w-12 text-center p-2 border-none focus:outline-none bg-transparent"
                        />
                        <button
                            onClick={() => increment(setBalcony)}
                            className="px-4 py-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 focus:outline-none"
                        >
                            +
                        </button>
                    </div>
                </div>

                {/* Water Supply */}
                <div className="flex flex-col items-center">
                    <label className="block text-gray-700 font-medium mb-2">Water Supply</label>
                    <div className="flex items-center border border-gray-300 rounded-lg shadow-sm p-2 w-full max-w-xs">
                        <img
                            src="https://assets.nobroker.in/static/img/postYourProperty/icon/water.png"
                            alt="Water Supply Icon"
                            className="h-6 w-6 mr-2"
                        />
                        <select className="p-2 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg bg-white text-gray-600 w-full">
                            <option value="Available">Available</option>
                            <option value="Not Available">Not Available</option>
                            <option value="Available on request">Available on request</option>
                        </select>
                    </div>
                </div>
            </div>

            {/* Gym, Non-Veg Allowed, Gated Security */}
            <div className="grid grid-cols-3 gap-5">
                <div className="flex items-center border border-gray-300 rounded-md">
                    <img src="https://assets.nobroker.in/nb-new/public/Pyp-Form/gym_black_new.svg" alt="Gym" />
                    <label className="flex-grow text-center text-gray-700 text-sm mb-2">Gym*</label>
                    <div className="flex items-center space-x-2 ml-auto">
                        <button
                            onClick={() => setGym(false)}
                            className={`px-1 py-1 rounded-md border transition ${!gym ? "bg-[#fff0f2] border-[#fd3752] text-[#fd3752]" : "bg-white text-gray-600"}`}
                        >
                            No
                        </button>
                        <button
                            onClick={() => setGym(true)}
                            className={`px-1 py-1 rounded-md border transition ${gym ? "bg-[#ebfffd] text-[#159587] border-[#159587]" : "bg-white text-gray-600"}`}
                        >
                            Yes
                        </button>
                    </div>
                </div>


                <div className="flex items-center border border-gray-300 rounded-md">
                    <img src="https://assets.nobroker.in/static/img/postYourProperty/icon/nonveg.png" alt="Non-veg" />
                    <label className="flex-grow text-center text-gray-700 mb-2 text-sm">
                        Non-Veg Allowed*</label>
                    <div className="flex items-center space-x-2">
                        <button
                            onClick={() => setNonVegAllowed(false)}
                            className={`px-2 py-1 rounded-sm border transition ${!nonVegAllowed ? "bg-[#fff0f2] border-[#fd3752] text-[#fd3752]" : "bg-white text-gray-600"
                                }`}
                        >
                            No
                        </button>
                        <button
                            onClick={() => setNonVegAllowed(true)}
                            className={`px-1 py-1 rounded-sm border transition ${nonVegAllowed ? "bg-[#ebfffd] text-[#159587] border-[#159587]" : "bg-white text-gray-600"
                                }`}
                        >
                            Yes
                        </button>
                    </div>
                </div>
                <div className="flex items-center border border-gray-300 rounded-md">
                    <img src="https://assets.nobroker.in/static/img/postYourProperty/icon/security.png" alt="Gated Security" />
                    <label className="flex-grow text-center text-gray-700 font-medium mb-2 text-sm">
                        Gated Security*</label>
                    <div className="flex items-center space-x-2">
                        <button
                            onClick={() => setGatedSecurity(false)}
                            className={`px-2 py-1 rounded-sm border transition ${!gatedSecurity ? "bg-[#fff0f2] border-[#fd3752] text-[#fd3752]" : "bg-white text-gray-600"
                                }`}
                        >
                            No
                        </button>
                        <button
                            onClick={() => setGatedSecurity(true)}
                            className={`px-1 py-1 rounded-sm border transition ${gatedSecurity ? "bg-[#ebfffd] text-[#159587] border-[#159587]" : "bg-white text-gray-600"
                                }`}
                        >
                            Yes
                        </button>
                    </div>
                </div>
            </div>

            <div className="mb-1 flex space-x-4">
                <div className="flex-1">
                    <label className="block text-gray-600 text-sm font-semibold mb-2">Who will show the property?*</label>
                    <select className="w-full text-gray-500 p-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                        <option value="Select">Select</option>
                        <option value="Maintenance Included">Need help</option>
                        <option value="I will show">I will show</option>
                        <option value="Neighbour">Neighbour</option>
                        <option value="Friends/Relative">Friends/Relative</option>
                        <option value="Security">Security</option>
                        <option value="Tenants">Tenants</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                {/* Expected Deposit */}
                <div className="flex-1">
                    <label className="block text-gray-600 text-sm font-semibold mb-2">Current Property Condition?</label>
                    <select className="w-full text-gray-500 p-4 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                        <option value="Select">Select</option>
                        <option value="Vacant">Vacant</option>
                        <option value="Tenant on Notice Period">Tenant on Notice Period</option>
                        <option value="New Property">New Property</option>
                        <option value="Need Help to Manage">Need Help to Manage</option>
                    </select>
                </div>
            </div>

            <div className="flex-1">
                <label className="block text-gray-600 text-sm font-semibold mb-2">Secondary Number</label>
                <input
                    type="number"
                    id="mobile"
                    name="mobile"
                    placeholder="Enter your mobile number"
                    className="mt-1 block w-1/2 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#009587] focus:border-[#009587]"
                />
            </div>

            {/* Do you have more similar units/properties available? */}
            <div className="mb-1 flex space-x-4">
                <div className="flex-2">
                    <div className="border border-gray-300 rounded-lg p-2">
                        <div className="flex items-center justify-between w-auto">
                            <label className="block text-gray-600 text-sm mb-2 mr-2">Do you have more similar <span className="font-semibold text-gray-700">units/properties</span> available?{" "}</label>
                            <div className="flex items-center space-x-4">
                                <button
                                    onClick={() => setMoreProperties(false)}
                                    className={`px-4 py-2 rounded-md border transition ${!moreProperties ? "bg-[#fff0f2] border-[#fd3752] text-[#fd3752]" : "bg-white text-gray-600"}`}
                                >
                                    No
                                </button>
                                <button
                                    onClick={() => setMoreProperties(true)}
                                    className={`px-4 py-2 rounded-md border transition ${moreProperties ? "bg-[#ebfffd] text-[#159587] border-[#159587]" : "bg-white text-gray-600"}`}
                                >
                                    Yes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div className="mb-1 flex space-x-2">
                <div className="flex-1">
                    <label className="block text-gray-600 text-sm font-semibold mb-2">Add Directions Tip for your tenants
                    </label>
                    <div className="border-gray-300 rounded-lg p-2">
                        <div className="flex flex-col space-y-2 w-full">
                            <div className="text-sm text-gray-500">
                                <p>Don't want calls asking for location? Add directions to reach using landmarks</p>
                            </div>
                            <input
                                type="text"
                                placeholder="Eg. Take the road opposite to Amrita College, take right after 300m..."
                                className="w-full p-3 text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg border border-gray-300"
                            />
                        </div>
                    </div>
                </div>
            </div>

            <div className="border-t border-gray-300 my-4"></div>
            <div>
                <label className="block text-[#999] font-semibold text-sm mb-6">
                    Select the available amenities
                </label>

                <div className="grid grid-cols-2 gap-4 mt-4">
                    {/* Option 1 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="lift" name="amenities" value="Lift" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="lift" className="text-gray-700">Lift</label>
                    </div>

                    {/* Option 2 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="internet" name="amenities" value="Internet Services" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="internet" className="text-gray-700">Internet Services</label>
                    </div>

                    {/* Option 3 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="ac" name="amenities" value="Air Conditioner" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="ac" className="text-gray-700">Air Conditioner</label>
                    </div>

                    {/* Option 4 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="club-house" name="amenities" value="Club House" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="club-house" className="text-gray-700">Club House</label>
                    </div>

                    {/* Option 5 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="intercom" name="amenities" value="Intercom" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="intercom" className="text-gray-700">Intercom</label>
                    </div>

                    {/* Option 6 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="swimming-pool" name="amenities" value="Swimming Pool" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="swimming-pool" className="text-gray-700">Swimming Pool</label>
                    </div>

                    {/* Option 7 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="children-play" name="amenities" value="Children Play Area" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="children-play" className="text-gray-700">Children Play Area</label>
                    </div>

                    {/* Option 8 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="fire-safety" name="amenities" value="Fire Safety" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="fire-safety" className="text-gray-700">Fire Safety</label>
                    </div>

                    {/* Option 9 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="servant-room" name="amenities" value="Servant Room" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="servant-room" className="text-gray-700">Servant Room</label>
                    </div>

                    {/* Option 10 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="shopping-center" name="amenities" value="Shopping Center" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="shopping-center" className="text-gray-700">Shopping Center</label>
                    </div>

                    {/* Option 11 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="gas-pipeline" name="amenities" value="Gas Pipeline" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="gas-pipeline" className="text-gray-700">Gas Pipeline</label>
                    </div>

                    {/* Option 12 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="park" name="amenities" value="Park" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="park" className="text-gray-700">Park</label>
                    </div>

                    {/* Option 13 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="rain-water" name="amenities" value="Rain Water Harvesting" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="rain-water" className="text-gray-700">Rain Water Harvesting</label>
                    </div>

                    {/* Option 14 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="sewage-treatment" name="amenities" value="Sewage Treatment Plant" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="sewage-treatment" className="text-gray-700">Sewage Treatment Plant</label>
                    </div>

                    {/* Option 15 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="house-keeping" name="amenities" value="House Keeping" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="house-keeping" className="text-gray-700">House Keeping</label>
                    </div>

                    {/* Option 16 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="power-backup" name="amenities" value="Power Backup" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="power-backup" className="text-gray-700">Power Backup</label>
                    </div>

                    {/* Option 17 */}
                    <div className="flex items-center space-x-2">
                        <input type="checkbox" id="visitor-parking" name="amenities" value="Visitor Parking" className="h-4 w-4 text-[#159587]" />
                        <label htmlFor="visitor-parking" className="text-gray-700">Visitor Parking</label>
                    </div>
                </div>
            </div>



        </div>
    );
};

export default Amenities;
